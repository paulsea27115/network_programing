<!DOCTYPE html>
<html>
<head>
   <meta http-equiv="content-type" content="text/html;charset=utf-8" />
   <title>실습해보기2.setInterval()&clearInterval()</title>
   <style>

   </style>
</head>

<body>
   <h2>setInterval과 clearInterval</h2>
   <hr>
   <div class="wrap">
     <button>STOP</button>
     <button>RESTART</button>
   </div>
   <script>
      const btns = document.querySelectorAll("button");
      let number = 0;
      let interval;
      let check;

      const _stop = ()=>{
         console.log("stop!")
         clearInterval(interval);
         check = false;
      }

      const restart = ()=>{
         if (check && number != 0) alert("기존 인터벌을 제거 후에 눌러주세요");
         else {
            interval = setInterval(()=>{
               console.log(number);
               number += 1;
            },1000);
            check = true;
         }
      }

      restart();
      btns.forEach((e)=>{
         e.addEventListener("click",(e)=>{
            if(e.currentTarget.textContent === "STOP") _stop();
            else {restart();console.log("restart!");}
         })
      })

   </script>
</body>

</html>